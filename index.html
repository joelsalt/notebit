<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="generator" content="Polymer Starter Kit">
        <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">
        <title>NoteBit</title>
        <meta name="description" content="Live Notes from All Your Classes">
    
        <script type='text/javascript' src='https://cdn.scaledrone.com/scaledrone.min.js'></script>
        
        
        <link rel="stylesheet" href="node_modules/font-awesome/css/font-awesome.min.css" type="text/css" />
        <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css" type="text/css" />
        <link rel="stylesheet" href="node_modules/trumbowyg/dist/ui/trumbowyg.min.css">
        <link rel="stylesheet" href="src/css/app.css" type="text/css" />
    </head>
    <body>
        <nav id="note-nav" class="navbar navbar-default" role="navigation">
				<div class="navbar-header">
					 
					<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
						 <span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>
					</button>
					<a href= "https://bitnote2-joelsalt.c9users.io"><span id="icon" class="fa fa-book"></span><img class="navbar-brand" src=bigwhitenotebit.png></img></a>
				</div>
				
				<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
					<ul class="nav navbar-nav">
						<li>
							<a href="#about" data-toggle="tab" onclick="hideChat()">About</a>
						</li>
						<li class="active">
							<a href="#take-notes" data-toggle="tab" onclick="hideChat()">Take Notes</a>
						</li>
						<li>
							<a href="#upload" data-toggle="tab" onclick="hideChat()">Upload</a>
						</li>
						<li>
							<a href="#search" data-toggle="tab" onclick="hideChat()">Search Notes</a>
						</li>
						<li>
							<a href="#book" data-toggle="tab" onclick="hideChat()">Book Share</a>
						</li>
							<li>
							<a href="#tutor" data-toggle="tab" onclick="showChat()">TutorChat</a>
							</li>
						</li>
					</ul>
					<ul class="nav navbar-nav navbar-right">
						<li>
							<a href="#register" data-toggle="tab" onclick="hideChat()">Register</a>
						</li>
						<li>
							<a href="#login" data-toggle="tab" onclick="hideChat()">Log In</a>
						</li>
						
						
					</ul>
				
				
				</div>
				
			</nav>
		
        <div id="take-notes" role="tabpanel" class="tab-pane active">
            <div id="trumbowyg"></div>
            <div> <button id="submit" class="btn btn-large btn-primary">Submit</button></div>
        </div>
        
      <div id="book" role="tabpanel" class="tab-pane">
    	<h3 class="card header">Publicly Available PDFs</h3>
    	<div>
    	    <div class="row">
                <div class="col-sm-4">
        			<div class="book-card">
            			<h3>Guide to Network Defense and Countermeasures 3rd Edition</h3>
            			<div class="row">
            			    <div class="col-sm-12">
            			        <p><strong>Author:</strong> R. Weaver, D. Weaver, and D. Farwood</p>
            			    </div>
            			    <div class="col-sm-12">
            			        <p>Tag: Python, Computer, Programming, Basic, Science</p>
            			    </div>
        			    </div>
        			    <button class="btn btn-large btn-primary" data-toggle="modal" data-target="#modal1">Read</button>
        			    
        			        <div class="modal fade" id="modal1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                              <div class="modal-dialog modal-lg" role="document">
                                <div class="modal-content">
                                  <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                    <h4 class="modal-title" id="myModalLabel">Guide to Network Defense and Countermeasures 3rd Edition</h4>
                                  </div>
                                  <div class="modal-body">
                                    <iframe src="/notes/Guide to Network Defense and Countermeasures 3rd Edition.pdf"></iframe>
                                  </div>
                                
                                  <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                    
                                  </div>
                                </div>
                              </div>
                            </div>
        			</div>
        		</div>
                <div class="col-sm-4">
        		    <div class="book-card">
        				<h3>Data and Computer Communication 8th Edition</h3>
            			<div class="row">
            			    <div class="col-sm-12">
            			        <p><strong>Author:</strong> William Stallings</p>
            			    </div>
            			    <div class="col-sm-12">
            			        <p>Tag: Data, Telecommunications, Computer, Elaborate Physics, Science</p>
            			    </div>
            			</div>
        			    <button class="btn btn-large btn-primary" data-toggle="modal" data-target="#modal2">Read</button>
        			    
        			        <div class="modal fade" id="modal2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                              <div class="modal-dialog modal-lg" role="document">
                                <div class="modal-content">
                                  <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                    <h4 class="modal-title" id="myModalLabel">Data and Computer Communication 8th Edition</h4>
                                  </div>
                                  <div class="modal-body">
                                    <iframe src="notes/data-and-computer-comm-8e-william-stallings.pdf"></iframe>
                                  </div>
                                  <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                    
                                  </div>
                                </div>
                              </div>
                            </div>
                    </div>
                </div>
                <div class="col-sm-4">
        		    <div class="book-card">
        				<h3>Guide to Network Defense and Countermeasures</h3>
            			<div class="row">
            			    <div class="col-sm-12">
            			        <p><strong>Author:</strong>Richard L Halterman</p>
            			    </div> 
            			    <div class="col-sm-12">
            			        <p>Tag: Cybersecurity, Linux, Information Technology</p>
            			    </div>
            			 </div>
            			 <div class="modal-body">
                         </div>
        			    <button class="btn btn-large btn-primary">Read</button>
            		</div>
            	</div>
            </div>
        </div>
        
        
    	<h3 class="card header">Hard Copy Books to Borrow</h3>
    	    <div class="row">
                <div class="col-sm-4">
        			<div class="book-card">
            			<h3>Introduction to C#</h3>
            			<div class="row">
            			    <div class="col-sm-12">
            			        <p><strong>Author:</strong> Velo L Hackerman</p>
            			    </div>
            			    <div class="col-sm-12">
            			        <p>Tag: Programming, Basic, Science</p>
            			    </div>
        			    </div>
        			    <button class="btn btn-large btn-primary">Read</button>
        			</div>
        		</div>
                <div class="col-sm-4">
        		    <div class="book-card">
        				<h3>Psychology Today</h3>
            			<div class="row">
            			    <div class="col-sm-12">
            			        <p><strong>Author:</strong> Bill Philson</p>
            			    </div>
            			    <div class="col-sm-12">
            			        <p>Tag: Psychology, therapy, Science</p>
            			    </div>
            			</div>
        			    <button class="btn btn-large btn-primary">Read</button>
                    </div>
                </div>
            </div>
        </div>
		<div id="login" role="tabpanel" class="tab-pane">
		    <h3>
  <p>Username</p><span class="input-group"><input type="text"/></span></a><br>
  <p>Password</p> <span class="input-group"><input type="text"/></span></a><br></h3>
		   <div> <button id="login" class="btn btn-large btn-primary">Log In</button></div>
		</div>
		
		<div id="register" role="tabpanel" class="tab-pane">
		    <div class="input-group">
		        <h3>
  <p>Username</p><span class="input-group"><input type="text"/></span></a><br>
  <p>Password</p> <span class="input-group"><input type="text"/></span></a><br>
  <p>Confirm Password</p><span class="input-group"><input type="text"/></span></a><br>
                </h3>
	            <div> <button id="register" class="btn btn-large btn-primary">Register</button></div>
            </div>
        </div>
		     
        <div id="upload" role="tabpanel" class="tab-pane">
            <form method="post" enctype="multipart/form-data">
              <div>
                  <h3>Choose File to Upload</h3>
                <input type="file" id="Notes" name="Notes"
                      accept=".doc, .docx, .pdf, .odt, .xml, .png, .ppt, .dotmd, .docm, .dotx, .dotm, .wpd, .wps, .rtf, .txt, .csv, .sdw, .sgl, .vor, .uot, .uof, .jtd, .jtt, .hwp, .602, .pdb, .psw, .xlw, .xlt, .xls, .xlsx, .xlsm, .xltx, .xltm, .xlsb, .dif, .xsc, .stc, .dbf, .pxl, ">
              </div>
              <div>
                <div><button id="Notes" class="btn btn-large btn-primary">Upload</button></div>
                
               <!--<h2 id="fam">We support you fam.</h2>-->
                <p>We allow these file formats: .doc, .docx, .pdf, .odt, .xml, .png, .ppt, .docm, .dotx, .dotm, .wpd, .wps, .rtf, .txt, .csv, .sdw, .sgl, .vor, .uot, .uof, .jtd, .jtt, .hwp, .602, .pdb, .psw, .xlw, .xlt, .xls, .xlsx, .xlsm, .xltx, .xltm, .xlsb, .dif, .xsc, .stc, .dbf, .pxl, .dotmd</p>
              </div>
            </form>
        </div>
        <div id="about" role="tabpanel" class="tab-pane">
            <div class="about-card">
         <h2>
          NoteBit, a play on NoteBook, is a new way for students to improve their educational experience. Students are able to take, share and search notes, share books, and receive help from tutors using our revolutionary application.</h2>

<img src="UserUsingApp.jpg" width="auto" height="360" />
<h3 id="take-notes">Taking notes isn't always easy so let us do the work for you. 
			This is <strong>compatible</strong> and <strong>reliable</strong> for students by students.</h3>
			<p>
                © 2017 Daytona State College Major League Hacks
           </p>
           <p>Kristine Hoelscher | Joel Milligan | Alan Harris | Nickolas Smiley</p>
			</div>
    </div>
             
             
        <div id="tutor" role="tabpanel" class="tab-pane">
            <div class="members-count"></div>
            <div class="members-list"></div>
            <div class="messages"></div>
            <form class="message-form" onsubmit="return false;">
                <input class="message-form__input" placeholder="Type a message.." type="text"/>
                <input class="message-form__button btn btn-lg btn-primary" value="Send" type="submit"/>
            </form>
        </div>
        
        <div id="search" role="tabpanel" class="tab-pane">
            <div class="card">
                <div>
                    <div id="selected-college"></div>
                    <span class="fa fa-minus-square"></span>
                </div>
                <input id="college" type="text" name="" placeholder="Enter Your College"/>
                <ul id="college-list">
                    <li>Daytona State College</li>
                    <li>University of Central Florida</li>
                    <li>University of North Florida</li>
                    <li>Florida State University</li>
                    <li>Embry-Riddle Aeronautical University</li>
                    <li>University of Tampa</li>
                    <li>University of South Florida</li>
                    <li>Miami University</li>
                    <li>University of Alabama</li>
                    <li>Massachusetts Institute of Technology</li>
                    <li>Boston University</li>
                    <li>University of Cincinnati</li>
                    <li>University of Florida</li>
                    <li>Daytona University</li>
                    <li>Keiser University</li>
                    <li>Bethune-Cookman University</li>
                    <li>Stetson University</li>
                    <li>Jacksonville University</li>
                    <li>Florida Institute of Technology</li>
                    <li>Flagler College</li>
                    <li>Florida Gulf Coast University</li>
                    <li>St. Petersburg College</li>
                    <li>Apopka High School</li> 
                    <li>Valencia College</li>
                    <li>Hillsborough Community College</li>
                    <li>Edgewater High School</li>
                    <li>Maitland High School</li>
                    <li>Flagler Palm Coast High School</li>
                    <li>Matanzas High School</li>
                    <li>East Lake High School</li>
                    <li>Spruce Creek High School</li>
                    <li>Tarpon Springs High School</li>
                    <li>Dunedin High School</li>
                    <li>Clearwater High School</li>
                    <li>New Smyrna Beach High School</li>
                    <li>Plant City High School</li>
                    <li>Armstrong High School</li>
                    <li>Florida Polytechnic University</li>
                    <li>Atlantic High School</li>
                    <li>Hillsborough High School</li>
                    <li>University High School</li>
                    <li>Oakridge High School</li>
                    <li>Colonial High School</li>
                    <li>Winter Park Tech</li>
                    <li>Orlando Technical College</li>
                </ul>
                <div id="notes-list">
                    <div class="row">
                    <div class="col-sm-7">
                        
                        <div class="title">
                            <h1>Title</h1>
                            <input id="filter-title" type="text" name="" placeholder="Filter by Title"/>
                        </div>
                    </div>
                    <div class="col-sm-5">
                        <div class="course">
                            <h1>Course</h1>
                            <input id="filter-course" type="text" name="" placeholder="Filter by Course"/>
                        </div>
                    </div>
                    </div>
                    
                    <table>
                        <tr class="data" onclick="loadNote('Chapter 4 Summary.txt')">
                            <td class="data-title">Psychology Notes 09/20/2017</td>
                            <td class="data-course">PSY1000</td>
                        </tr>
                        <tr class="data" onclick="loadNote('4.4.16 Notes.txt')">
                            <td class="data-title">System Engineering Notes 4/4/16</td>
                            <td class="data-course">COP2000</td>
                        </tr>
                        <tr class="data" onclick="loadNote('ASSIGN I Heart Art - FA16 online (2) Victoria Hoelscher.txt')">
                            <td class="data-title">Notes 10/03/2017</td>
                            <td class="data-course">COP2000</td>
                        </tr>
                        <tr class="data" onclick="loadNote('Chapter 14 summary.txt')">
                            <td class="data-title">Psychology Notes 09/22/2017</td>
                            <td class="data-course">PSY1000</td>
                        </tr>
                        <tr class="data" onclick="loadNote('Chapter 2 Summary.txt')">
                            <td class="data-title">Psychology Notes 09/26/2017</td>
                            <td class="data-course">PSY1000</td>
                        </tr>
                        <tr class="data" onclick="loadNote('Chapter 8 Summary.txt ')">
                            <td class="data-title">Psychology Notes 10/03/2017</td>
                            <td class="data-course">PSY1000</td>
                        </tr>
                        <tr class="data" onclick="loadNote('Classnotes March 22.txt')">
                            <td class="data-title">Notes 10/03/2017</td>
                            <td class="data-course">COP2000</td>
                        </tr>
                        <tr class="data" onclick="loadNote('Death of a Salesman Performance Critique.txt')">
                            <td class="data-title">Notes 10/03/2017</td>
                            <td class="data-course">COP2000</td>
                        </tr>
                        <tr class="data" onclick="loadNote('Discussion 3.txt')">
                            <td class="data-title">Speech Notes 3/5/17</td>
                            <td class="data-course">ENG</td>
                        </tr>
                        <tr class="data" onclick="loadNote('Discussion 7.txt')">
                            <td class="data-title">Speech Notes - Chapt 2</td>
                            <td class="data-course">ENG</td>
                        </tr>
                        <tr class="data" onclick="loadNote('Notes 2.9.16.txt')">
                            <td class="data-title">Notes 10/03/2017</td>
                            <td class="data-course">COP2000</td>
                        </tr>
                        <tr class="data" onclick="loadNote('Prologue Summary PSYCHOLOGY Tori Hoelscher.txt')">
                            <td class="data-title">Psychology Notes 09/28/2017</td>
                            <td class="data-course">PSY1000</td>
                        </tr>
                        <tr class="data" onclick="loadNote('Systems Engineering.txt')">
                            <td class="data-title">Systems Tutoring Notes</td>
                            <td class="data-course">COP2000</td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
     </div>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript" src="src/js/quicksearch.js"></script>
    <script>window.jQuery || document.write('<script src="js/vendor/jquery-3.2.1.min.js"><\/script>')</script>
    
    <script type="text/javascript" src="node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
    
    <script src="node_modules/trumbowyg/dist/trumbowyg.min.js"></script>
    
    <script>
        var $;
        $(document).ready(function(){
            $('#trumbowyg').trumbowyg({
                autogrow: true,
                resetCss: true
            });
            
            $("#note-nav a").click(function() {
                $('.active').removeClass('active');
                $(this).addClass("active");
            });
            
            $('input#college').quicksearch('ul#college-list li', {
                'delay': 100,
                'bind': 'keyup keydown',
                'hide': function () {
		            $(this).addClass('hidden');
                },
                'show': function () {
            		$(this).removeClass('hidden');
            	}
            });
            
            $('input#filter-title').quicksearch('#notes-list table tr', {
                'delay': 100,
                'bind': 'keyup keydown',
                'hide': function () {
		            $(this).addClass('hidden');
                },
                'show': function () {
            		$(this).removeClass('hidden');
            	}
            });
            
            $('input#filter-course').quicksearch('#notes-list table tr', {
                'delay': 100,
                'bind': 'keyup keydown',
                'hide': function () {
		            $(this).addClass('hidden');
                },
                'show': function () {
            		$(this).removeClass('hidden');
            	}
            });
            
            $('input#college').keydown(function(event) {
                if (event.keyCode === 13) {
                    let value = $("#college-list li:not(.hidden)")[0];
                    $("#selected-college").text(value.textContent);
                    $("#search .card").addClass("selected");
                }
            });
            
            $("#college-list li").click(function(event){
                $("#selected-college").text($(event.target).text());
                $("#search .card").addClass("selected");
            });
            
            $("span.fa").click(function(){
                $("#selected-college").text("");
                $("#search .card").removeClass("selected");
            });
        });
        
        function loadNote(file) {
            $.get('notes/' + file, function(data){
                let write = data.replace(/[.]+(?=([\sa-zA-Z0-9]*[.]+))/gm, getRandom);
                $('#trumbowyg').trumbowyg("html", write);
            });
            $(".nav:not(.navbar-right) li:nth-child(2) a").trigger("click");
        }
        
        function getRandom(){
            if (Math.random() > 0.5) return ". <br/>";
            return ". <br/> <br/>"
        }
        
        function getRandomColor() {
            return '#' + Math.floor(Math.random() * 0xFFFFFF).toString(16);
        }
        
        function hideChat(){
            $(".members-count").addClass("hidden");
            $(".members-list").addClass("hidden");
            $(".messages").addClass("hidden");
            $(".message-form").addClass("hidden");
        }
        
        function showChat() {
            $(".members-count").removeClass("hidden");
            $(".members-list").removeClass("hidden");
            $(".messages").removeClass("hidden");
            $(".message-form").removeClass("hidden");
        }
        
        var members = [];
        const drone = new ScaleDrone('S2KCNeCc9OlbcLyF', {
          data: { // Will be sent out as clientData via events
            name: getRandomName(),
            color: getRandomColor(),
          },
        });

drone.on('open', error => {
  if (error) {
    return console.error(error);
  }

  const room = drone.subscribe('observable-room');
  room.on('open', error => {
    if (error) {
      return console.error(error);
    }
  });

  room.on('members', m => {
    members = m;
    updateMembersDOM();
  });

  room.on('member_join', member => {
    members.push(member);
    updateMembersDOM();
  });

  room.on('member_leave', ({id}) => {
    const index = members.findIndex(member => member.id === id);
    members.splice(index, 1);
    updateMembersDOM();
  });

  room.on('data', (text, member) => {
    if (member) {
      addMessageToListDOM(text, member);
    } else {
      // Message is from server
    }
  });
});

drone.on('close', event => {
  console.log('Connection was closed', event);
});

drone.on('error', error => {
  console.error(error);
});

function getRandomName() {
  const adjs = ["autumn", "hidden", "bitter", "misty", "silent", "empty", "dry", "dark", "summer", "icy", "delicate", "quiet", "white", "cool", "spring", "winter", "patient", "twilight", "dawn", "crimson", "wispy", "weathered", "blue", "billowing", "broken", "cold", "damp", "falling", "frosty", "green", "long", "late", "lingering", "bold", "little", "morning", "muddy", "old", "red", "rough", "still", "small", "sparkling", "throbbing", "shy", "wandering", "withered", "wild", "black", "young", "holy", "solitary", "fragrant", "aged", "snowy", "proud", "floral", "restless", "divine", "polished", "ancient", "purple", "lively", "nameless"];
  const nouns = ["waterfall", "river", "breeze", "moon", "rain", "wind", "sea", "morning", "snow", "lake", "sunset", "pine", "shadow", "leaf", "dawn", "glitter", "forest", "hill", "cloud", "meadow", "sun", "glade", "bird", "brook", "butterfly", "bush", "dew", "dust", "field", "fire", "flower", "firefly", "feather", "grass", "haze", "mountain", "night", "pond", "darkness", "snowflake", "silence", "sound", "sky", "shape", "surf", "thunder", "violet", "water", "wildflower", "wave", "water", "resonance", "sun", "wood", "dream", "cherry", "tree", "fog", "frost", "voice", "paper", "frog", "smoke", "star"];
  return (
    adjs[Math.floor(Math.random() * adjs.length)] +
    "_" +
    nouns[Math.floor(Math.random() * nouns.length)]
  );
}

function getRandomColor() {
  return '#' + Math.floor(Math.random() * 0xFFFFFF).toString(16);
}

function sendMessage() {
  const value = DOM.input.value;
  if (value === '') {
    return;
  }
  DOM.input.value = '';
  drone.publish({
    room: 'observable-room',
    message: value,
  });
}

//------------- DOM STUFF

const DOM = {
  membersCount: document.querySelector('.members-count'),
  membersList: document.querySelector('.members-list'),
  messages: document.querySelector('.messages'),
  input: document.querySelector('.message-form__input'),
  form: document.querySelector('.message-form'),
};

DOM.form.addEventListener('submit', sendMessage);

let i = 0;
function createMemberElement(member) {
  const { name, color } = member.clientData || ["user" + i++, "#000"];
  const el = document.createElement('div');
  el.appendChild(document.createTextNode(name));
  el.className = 'member';
  el.style.color = color;
  return el;
}

function updateMembersDOM() {
  DOM.membersCount.innerText = `${members.length} users in room:`;
  DOM.membersList.innerHTML = '';
  members.forEach(member =>
    DOM.membersList.appendChild(createMemberElement(member))
  );
}

function createMessageElement(text, member) {
  const el = document.createElement('div');
  el.appendChild(createMemberElement(member));
  el.appendChild(document.createTextNode(text));
  el.className = 'message';
  return el;
}

function addMessageToListDOM(text, member) {
  const el = DOM.messages;
  const wasTop = el.scrollTop === el.scrollHeight - el.clientHeight;
  el.appendChild(createMessageElement(text, member));
  if (wasTop) {
    el.scrollTop = el.scrollHeight - el.clientHeight;
  }
}

hideChat();
    </script>
  </body>
</html>
